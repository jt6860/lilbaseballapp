<h2>Pitching Statistics</h2>
<select [(ngModel)]="selectedSeason" (change)="loadPitcherStats()">
  <option *ngFor="let year of [2024, 2023, 2022, 2021]" [value]="year">
    {{ year }}
  </option>
</select>

<table>
    <thead>
      <tr>
        <th (click)="sort('name')">Name</th>
        <th (click)="sort('Team')">Team</th>
        <th (click)="sort('WAR')">WAR</th>
        <th (click)="sort('IP')">IP</th>
        <th (click)="sort('G')">G</th>
        <th (click)="sort('AIPpG')">AVG IP/G</th>
        <th (click)="sort('ERA')">ERA</th>
        <th (click)="sort('W')">W</th>
        <th (click)="sort('L')">L</th>
        <th (click)="sort('SV')">SV</th>
        <th (click)="sort('WHIP')">WHIP</th>
        <th (click)="sort('K_per_9')">K/9</th>
        <th (click)="sort('K_pct')">K%</th>
        <th (click)="sort('LOB_pct')">LOB%</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let player of sortedPitchers">
        <td>{{ player.name }}</td>
        <td>{{ player.Team }}</td>
        <td><span class="{{ isStatExceptional(player.WAR, 3) ? 'good-stat' : '' }}">{{ player.WAR }}</span></td> 
        <td>{{ player.IP }}</td> 
        <td><span class="{{ isStatExceptional(player.G, 25) ? 'good-stat' : '' }}">{{ player.G }}</span></td> 
        <td><span class="{{ isStatExceptional(player.AIPpG, 5) ? 'good-stat' : '' }}">{{ player.AIPpG.toFixed(2)}}</span></td> 
        <td><span class="{{ isStatExceptional(player.ERA, 3.5) ? 'bad-stat' : 'good-stat' }}">{{ player.ERA }}</span></td> 
        <td><span class="{{ isStatExceptional(player.W, 15) ? 'good-stat' : '' }}">{{ player.W }}</span></td> 
        <td><span class="{{ isStatExceptional(player.L, 10) ? 'bad-stat' : '' }}">{{ player.L }}</span></td> 
        <td>{{ player.SV }}</td> 
        <td><span class="{{ isStatExceptional(player.WHIP, 1.25) ? 'bad-stat' : 'good-stat' }}">{{ player.WHIP }}</span></td> 
        <td><span class="{{ isStatExceptional(player.K_per_9, 9) ? 'good-stat' : '' }}">{{ player.K_per_9 }}</span></td>
        <td><span class="{{ isStatExceptional(player.K_pct, .25) ? 'good-stat' : '' }}">{{ player.K_pct | number:'1.3-3'  }}</span></td>
        <td><span class="{{ isStatExceptional(player.LOB_pct, .7) ? 'good-stat' : '' }}">{{ player.LOB_pct | number:'1.3-3'  }}</span></td> 
      </tr>
    </tbody>
  </table>